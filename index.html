<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>在幹嘛 1 號 - 職人精緻版</title>
    <style>
        /* 保持原有賈伯斯風格與黑金質感 [cite: 2026-02-03] */
        :root {
            --bg-color: #000000;
            --accent-gold: #d2d2d7;
            --text-main: #ffffff;
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.2);
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            overflow: hidden;
        }

        /* 呼吸動畫 */
        @keyframes softBreathe {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.02); opacity: 1; }
        }

        .page {
            width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: absolute;
            transition: opacity 0.5s ease;
            opacity: 0;
            pointer-events: none;
            backdrop-filter: blur(20px);
        }

        .page.active {
            opacity: 1;
            pointer-events: auto;
        }

        /* 內容區塊樣式 */
        .content-box {
            width: 85%;
            padding: 25px;
            background: var(--glass-bg);
            border: 0.5px solid var(--glass-border);
            border-radius: 20px;
            text-align: center;
            animation: softBreathe 4s infinite ease-in-out;
        }

        h1 { font-size: 24px; font-weight: 300; letter-spacing: 2px; margin-bottom: 20px; }
        
        /* 天氣選擇器樣式 */
        .weather-picker {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-top: 15px;
        }

        .weather-btn {
            padding: 8px 15px;
            font-size: 12px;
            background: transparent;
            border: 0.5px solid var(--glass-border);
            color: var(--accent-gold);
            border-radius: 40px;
            cursor: pointer;
        }

        .weather-btn.active {
            background: var(--text-main);
            color: var(--bg-color);
        }

        /* 新增：自定義心情天氣輸入框 */
        .custom-input {
            width: 100%;
            background: rgba(255, 255, 255, 0.08);
            border: 0.5px solid var(--glass-border);
            border-radius: 10px;
            color: #fff;
            padding: 12px;
            font-size: 14px;
            outline: none;
            margin-top: 10px;
            box-sizing: border-box;
        }

        .save-btn {
            margin-top: 30px;
            padding: 12px 40px;
            background: var(--text-main);
            color: var(--bg-color);
            border-radius: 50px;
            border: none;
            font-size: 14px;
            letter-spacing: 1px;
        }
    </style>
</head>
<body>

    <div id="p1" class="page active">
        <div class="content-box">
            <h1>我的專屬 1 號</h1>
            <p style="color: #888;">點擊進入職人模式</p>
            <button class="save-btn" onclick="nextPage(2)">進入</button>
        </div>
    </div>

    <div id="p5" class="page">
        <div class="content-box">
            <h1>回憶編輯</h1>
            
            <div style="text-align: left; width: 100%;">
                <label style="font-size: 10px; color: #888; display: block; margin-bottom: 5px;">自訂標語</label>
                <input type="text" id="sloganInput" class="custom-input" placeholder="想留下的話...">
            </div>

            <div style="text-align: left; width: 100%; margin-top: 20px;">
                <label style="font-size: 10px; color: #888; display: block; margin-bottom: 5px;">選擇天氣</label>
                <div class="weather-picker" id="weatherPicker">
                    <button class="weather-btn" onclick="selectWeather(this)">晴天</button>
                    <button class="weather-btn" onclick="selectWeather(this)">陰天</button>
                    <button class="weather-btn" onclick="selectWeather(this)">雨天</button>
                    <button class="weather-btn" onclick="selectWeather(this)">微風</button>
                </div>
            </div>

            <div style="text-align: left; width: 100%; margin-top: 15px;">
                <label style="font-size: 10px; color: #888; display: block; margin-bottom: 5px;">或是輸入此刻心情天氣</label>
                <input type="text" id="customWeatherInput" class="custom-input" placeholder="例如：雨後的寧靜...">
            </div>

            <button class="save-btn" onclick="saveRecord()">保存回憶</button>
        </div>
    </div>

    <script>
        // 頁面切換物理連動檢查
        function nextPage(num) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById('p' + num).classList.add('active');
        }

        // 天氣按鈕選取檢查
        function selectWeather(btn) {
            document.querySelectorAll('.weather-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
        }

        // 核心邏輯整合檢查
        function saveRecord() {
            const slogan = document.getElementById('sloganInput').value;
            const customWeather = document.getElementById('customWeatherInput').value;
            const activeWeatherBtn = document.querySelector('.weather-btn.active');
            
            // 優先讀取自定義心情天氣，若無則抓取按鈕
            let finalWeather = "";
            if (customWeather.trim() !== "") {
                finalWeather = customWeather;
            } else if (activeWeatherBtn) {
                finalWeather = activeWeatherBtn.innerText;
            } else {
                finalWeather = "未知";
            }

            console.log("保存成功：", slogan, finalWeather);
            alert("回憶已存入 1 號系統\n標語：" + slogan + "\n心情天氣：" + finalWeather);
            
            // 保存後返回首頁
            nextPage(1);
        }
    </script>
</body>
</html>
